---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
  name: azuremachinepools.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: AzureMachinePool
    listKind: AzureMachinePoolList
    plural: azuremachinepools
    shortNames:
    - amp
    singular: azuremachinepool
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: AzureMachinePool replicas count
      jsonPath: .status.replicas
      name: Replicas
      type: string
    - description: AzureMachinePool replicas count
      jsonPath: .status.ready
      name: Ready
      type: string
    - description: Azure VMSS provisioning state
      jsonPath: .status.provisioningState
      name: State
      type: string
    - description: Cluster to which this AzureMachinePool belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      priority: 1
      type: string
    - description: MachinePool object to which this AzureMachinePool belongs
      jsonPath: .metadata.ownerReferences[?(@.kind=="MachinePool")].name
      name: MachinePool
      priority: 1
      type: string
    - description: Azure VMSS ID
      jsonPath: .spec.providerID
      name: VMSS ID
      priority: 1
      type: string
    - description: Azure VM Size
      jsonPath: .spec.template.vmSize
      name: VM Size
      priority: 1
      type: string
    - description: Time duration since creation of this AzureMachinePool
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: AzureMachinePool is the Schema for the azuremachinepools API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: AzureMachinePoolSpec defines the desired state of AzureMachinePool.
            properties:
              additionalTags:
                additionalProperties:
                  type: string
                description: AdditionalTags is an optional set of tags to add to an
                  instance, in addition to the ones added by default by the Azure
                  provider. If both the AzureCluster and the AzureMachine specify
                  the same tag name with different values, the AzureMachine's value
                  takes precedence.
                type: object
              identity:
                default: None
                description: Identity is the type of identity used for the Virtual
                  Machine Scale Set. The type 'SystemAssigned' is an implicitly created
                  identity. The generated identity will be assigned a Subscription
                  contributor role. The type 'UserAssigned' is a standalone Azure
                  resource provided by the user and assigned to the VM
                enum:
                - None
                - SystemAssigned
                - UserAssigned
                type: string
              location:
                description: Location is the Azure region location e.g. westus2
                type: string
              orchestrationMode:
                default: Uniform
                description: OrchestrationMode specifies the orchestration mode for
                  the Virtual Machine Scale Set
                enum:
                - Flexible
                - Uniform
                type: string
              providerID:
                description: ProviderID is the identification ID of the Virtual Machine
                  Scale Set
                type: string
              providerIDList:
                description: ProviderIDList are the identification IDs of machine
                  instances provided by the provider. This field must match the provider
                  IDs as seen on the node objects corresponding to a machine pool's
                  machine instances.
                items:
                  type: string
                type: array
              roleAssignmentName:
                description: 'Deprecated: RoleAssignmentName should be set in the
                  systemAssignedIdentityRole field.'
                type: string
              strategy:
                default:
                  rollingUpdate:
                    deletePolicy: Oldest
                    maxSurge: 1
                    maxUnavailable: 0
                  type: RollingUpdate
                description: The deployment strategy to use to replace existing AzureMachinePoolMachines
                  with new ones.
                properties:
                  rollingUpdate:
                    description: Rolling update config params. Present only if MachineDeploymentStrategyType
                      = RollingUpdate.
                    properties:
                      deletePolicy:
                        default: Oldest
                        description: DeletePolicy defines the policy used by the MachineDeployment
                          to identify nodes to delete when downscaling. Valid values
                          are "Random, "Newest", "Oldest" When no value is supplied,
                          the default is Oldest
                        enum:
                        - Random
                        - Newest
                        - Oldest
                        type: string
                      maxSurge:
                        anyOf:
                        - type: integer
                        - type: string
                        default: 1
                        description: 'The maximum number of machines that can be scheduled
                          above the desired number of machines. Value can be an absolute
                          number (ex: 5) or a percentage of desired machines (ex:
                          10%). This can not be 0 if MaxUnavailable is 0. Absolute
                          number is calculated from percentage by rounding up. Defaults
                          to 1. Example: when this is set to 30%, the new MachineSet
                          can be scaled up immediately when the rolling update starts,
                          such that the total number of old and new machines do not
                          exceed 130% of desired machines. Once old machines have
                          been killed, new MachineSet can be scaled up further, ensuring
                          that total number of machines running at any time during
                          the update is at most 130% of desired machines.'
                        x-kubernetes-int-or-string: true
                      maxUnavailable:
                        anyOf:
                        - type: integer
                        - type: string
                        default: 0
                        description: 'The maximum number of machines that can be unavailable
                          during the update. Value can be an absolute number (ex:
                          5) or a percentage of desired machines (ex: 10%). Absolute
                          number is calculated from percentage by rounding down. This
                          can not be 0 if MaxSurge is 0. Defaults to 0. Example: when
                          this is set to 30%, the old MachineSet can be scaled down
                          to 70% of desired machines immediately when the rolling
                          update starts. Once new machines are ready, old MachineSet
                          can be scaled down further, followed by scaling up the new
                          MachineSet, ensuring that the total number of machines available
                          at all times during the update is at least 70% of desired
                          machines.'
                        x-kubernetes-int-or-string: true
                    type: object
                  type:
                    default: RollingUpdate
                    description: Type of deployment. Currently the only supported
                      strategy is RollingUpdate
                    enum:
                    - RollingUpdate
                    type: string
                type: object
              systemAssignedIdentityRole:
                description: SystemAssignedIdentityRole defines the role and scope
                  to assign to the system assigned identity.
                properties:
                  definitionID:
                    description: 'DefinitionID is the ID of the role definition to
                      create for a system assigned identity. It can be an Azure built-in
                      role or a custom role. Refer to built-in roles: https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles'
                    type: string
                  name:
                    description: Name is the name of the role assignment to create
                      for a system assigned identity. It can be any valid UUID. If
                      not specified, a random UUID will be generated.
                    type: string
                  scope:
                    description: Scope is the scope that the role assignment or definition
                      applies to. The scope can be any REST resource instance. If
                      not specified, the scope will be the subscription.
                    type: string
                type: object
              template:
                description: Template contains the details used to build a replica
                  virtual machine within the Machine Pool
                properties:
                  acceleratedNetworking:
                    description: 'Deprecated: AcceleratedNetworking should be set
                      in the networkInterfaces field.'
                    type: boolean
                  dataDisks:
                    description: DataDisks specifies the list of data disks to be
                      created for a Virtual Machine
                    items:
                      description: DataDisk specifies the parameters that are used
                        to add one or more data disks to the machine.
                      properties:
                        cachingType:
                          description: CachingType specifies the caching requirements.
                          enum:
                          - None
                          - ReadOnly
                          - ReadWrite
                          type: string
                        diskSizeGB:
                          description: DiskSizeGB is the size in GB to assign to the
                            data disk.
                          format: int32
                          type: integer
                        lun:
                          description: Lun Specifies the logical unit number of the
                            data disk. This value is used to identify data disks within
                            the VM and therefore must be unique for each data disk
                            attached to a VM. The value must be between 0 and 63.
                          format: int32
                          type: integer
                        managedDisk:
                          description: ManagedDisk specifies the Managed Disk parameters
                            for the data disk.
                          properties:
                            diskEncryptionSet:
                              description: DiskEncryptionSet specifies the customer-managed
                                disk encryption set resource id for the managed disk.
                              properties:
                                id:
                                  description: ID defines resourceID for diskEncryptionSet
                                    resource. It must be in the same subscription
                                  type: string
                              type: object
                            securityProfile:
                              description: SecurityProfile specifies the security
                                profile for the managed disk.
                              properties:
                                diskEncryptionSet:
                                  description: DiskEncryptionSet specifies the customer-managed
                                    disk encryption set resource id for the managed
                                    disk that is used for Customer Managed Key encrypted
                                    ConfidentialVM OS Disk and VMGuest blob.
                                  properties:
                                    id:
                                      description: ID defines resourceID for diskEncryptionSet
                                        resource. It must be in the same subscription
                                      type: string
                                  type: object
                                securityEncryptionType:
                                  description: SecurityEncryptionType specifies the
                                    encryption type of the managed disk. It is set
                                    to DiskWithVMGuestState to encrypt the managed
                                    disk along with the VMGuestState blob, and to
                                    VMGuestStateOnly to encrypt the VMGuestState blob
                                    only. When set to VMGuestStateOnly, VirtualizedTrustedPlatformModule
                                    should be set to Enabled. When set to DiskWithVMGuestState,
                                    EncryptionAtHost should be disabled, SecureBoot
                                    and VirtualizedTrustedPlatformModule should be
                                    set to Enabled. It can be set only for Confidential
                                    VMs.
                                  enum:
                                  - VMGuestStateOnly
                                  - DiskWithVMGuestState
                                  type: string
                              type: object
                            storageAccountType:
                              type: string
                          type: object
                        nameSuffix:
                          description: NameSuffix is the suffix to be appended to
                            the machine name to generate the disk name. Each disk
                            name will be in format <machineName>_<nameSuffix>.
                          type: string
                      required:
                      - diskSizeGB
                      - nameSuffix
                      type: object
                    type: array
                  diagnostics:
                    description: Diagnostics specifies the diagnostics settings for
                      a virtual machine. If not specified then Boot diagnostics (Managed)
                      will be enabled.
                    properties:
                      boot:
                        description: Boot configures the boot diagnostics settings
                          for the virtual machine. This allows to configure capturing
                          serial output from the virtual machine on boot. This is
                          useful for debugging software based launch issues. If not
                          specified then Boot diagnostics (Managed) will be enabled.
                        properties:
                          storageAccountType:
                            description: StorageAccountType determines if the storage
                              account for storing the diagnostics data should be disabled
                              (Disabled), provisioned by Azure (Managed) or by the
                              user (UserManaged).
                            enum:
                            - Managed
                            - UserManaged
                            - Disabled
                            type: string
                          userManaged:
                            description: UserManaged provides a reference to the user-managed
                              storage account.
                            properties:
                              storageAccountURI:
                                description: 'StorageAccountURI is the URI of the
                                  user-managed storage account. The URI typically
                                  will be `https://<mystorageaccountname>.blob.core.windows.net/`
                                  but may differ if you are using Azure DNS zone endpoints.
                                  You can find the correct endpoint by looking for
                                  the Blob Primary Endpoint in the endpoints tab in
                                  the Azure console or with the CLI by issuing `az
                                  storage account list --query=''[].{name: name, "resource
                                  group": resourceGroup, "blob endpoint": primaryEndpoints.blob}''`.'
                                maxLength: 1024
                                pattern: ^https://
                                type: string
                            required:
                            - storageAccountURI
                            type: object
                        required:
                        - storageAccountType
                        type: object
                    type: object
                  image:
                    description: Image is used to provide details of an image to use
                      during VM creation. If image details are omitted the image will
                      default the Azure Marketplace "capi" offer, which is based on
                      Ubuntu.
                    properties:
                      computeGallery:
                        description: ComputeGallery specifies an image to use from
                          the Azure Compute Gallery
                        properties:
                          gallery:
                            description: Gallery specifies the name of the compute
                              image gallery that contains the image
                            minLength: 1
                            type: string
                          name:
                            description: Name is the name of the image
                            minLength: 1
                            type: string
                          plan:
                            description: Plan contains plan information.
                            properties:
                              offer:
                                description: Offer specifies the name of a group of
                                  related images created by the publisher. For example,
                                  UbuntuServer, WindowsServer
                                minLength: 1
                                type: string
                              publisher:
                                description: Publisher is the name of the organization
                                  that created the image
                                minLength: 1
                                type: string
                              sku:
                                description: SKU specifies an instance of an offer,
                                  such as a major release of a distribution. For example,
                                  18.04-LTS, 2019-Datacenter
                                minLength: 1
                                type: string
                            required:
                            - offer
                            - publisher
                            - sku
                            type: object
                          resourceGroup:
                            description: ResourceGroup specifies the resource group
                              containing the private compute gallery.
                            type: string
                          subscriptionID:
                            description: SubscriptionID is the identifier of the subscription
                              that contains the private compute gallery.
                            type: string
                          version:
                            description: Version specifies the version of the marketplace
                              image. The allowed formats are Major.Minor.Build or
                              'latest'. Major, Minor, and Build are decimal numbers.
                              Specify 'latest' to use the latest version of an image
                              available at deploy time. Even if you use 'latest',
                              the VM image will not automatically update after deploy
                              time even if a new version becomes available.
                            minLength: 1
                            type: string
                        required:
                        - gallery
                        - name
                        - version
                        type: object
                      id:
                        description: ID specifies an image to use by ID
                        type: string
                      marketplace:
                        description: Marketplace specifies an image to use from the
                          Azure Marketplace
                        properties:
                          offer:
                            description: Offer specifies the name of a group of related
                              images created by the publisher. For example, UbuntuServer,
                              WindowsServer
                            minLength: 1
                            type: string
                          publisher:
                            description: Publisher is the name of the organization
                              that created the image
                            minLength: 1
                            type: string
                          sku:
                            description: SKU specifies an instance of an offer, such
                              as a major release of a distribution. For example, 18.04-LTS,
                              2019-Datacenter
                            minLength: 1
                            type: string
                          thirdPartyImage:
                            default: false
                            description: ThirdPartyImage indicates the image is published
                              by a third party publisher and a Plan will be generated
                              for it.
                            type: boolean
                          version:
                            description: Version specifies the version of an image
                              sku. The allowed formats are Major.Minor.Build or 'latest'.
                              Major, Minor, and Build are decimal numbers. Specify
                              'latest' to use the latest version of an image available
                              at deploy time. Even if you use 'latest', the VM image
                              will not automatically update after deploy time even
                              if a new version becomes available.
                            minLength: 1
                            type: string
                        required:
                        - offer
                        - publisher
                        - sku
                        - version
                        type: object
                      sharedGallery:
                        description: 'SharedGallery specifies an image to use from
                          an Azure Shared Image Gallery Deprecated: use ComputeGallery
                          instead.'
                        properties:
                          gallery:
                            description: Gallery specifies the name of the shared
                              image gallery that contains the image
                            minLength: 1
                            type: string
                          name:
                            description: Name is the name of the image
                            minLength: 1
                            type: string
                          offer:
                            description: Offer specifies the name of a group of related
                              images created by the publisher. For example, UbuntuServer,
                              WindowsServer This value will be used to add a `Plan`
                              in the API request when creating the VM/VMSS resource.
                              This is needed when the source image from which this
                              SIG image was built requires the `Plan` to be used.
                            type: string
                          publisher:
                            description: Publisher is the name of the organization
                              that created the image. This value will be used to add
                              a `Plan` in the API request when creating the VM/VMSS
                              resource. This is needed when the source image from
                              which this SIG image was built requires the `Plan` to
                              be used.
                            type: string
                          resourceGroup:
                            description: ResourceGroup specifies the resource group
                              containing the shared image gallery
                            minLength: 1
                            type: string
                          sku:
                            description: SKU specifies an instance of an offer, such
                              as a major release of a distribution. For example, 18.04-LTS,
                              2019-Datacenter This value will be used to add a `Plan`
                              in the API request when creating the VM/VMSS resource.
                              This is needed when the source image from which this
                              SIG image was built requires the `Plan` to be used.
                            type: string
                          subscriptionID:
                            description: SubscriptionID is the identifier of the subscription
                              that contains the shared image gallery
                            minLength: 1
                            type: string
                          version:
                            description: Version specifies the version of the marketplace
                              image. The allowed formats are Major.Minor.Build or
                              'latest'. Major, Minor, and Build are decimal numbers.
                              Specify 'latest' to use the latest version of an image
                              available at deploy time. Even if you use 'latest',
                              the VM image will not automatically update after deploy
                              time even if a new version becomes available.
                            minLength: 1
                            type: string
                        required:
                        - gallery
                        - name
                        - resourceGroup
                        - subscriptionID
                        - version
                        type: object
                    type: object
                  networkInterfaces:
                    description: NetworkInterfaces specifies a list of network interface
                      configurations. If left unspecified, the VM will get a single
                      network interface with a single IPConfig in the subnet specified
                      in the cluster's node subnet field. The primary interface will
                      be the first networkInterface specified (index 0) in the list.
                    items:
                      description: NetworkInterface defines a network interface.
                      properties:
                        acceleratedNetworking:
                          description: AcceleratedNetworking enables or disables Azure
                            accelerated networking. If omitted, it will be set based
                            on whether the requested VMSize supports accelerated networking.
                            If AcceleratedNetworking is set to true with a VMSize
                            that does not support it, Azure will return an error.
                          type: boolean
                        privateIPConfigs:
                          description: PrivateIPConfigs specifies the number of private
                            IP addresses to attach to the interface. Defaults to 1
                            if not specified.
                          type: integer
                        subnetName:
                          description: SubnetName specifies the subnet in which the
                            new network interface will be placed.
                          type: string
                      type: object
                    type: array
                  osDisk:
                    description: OSDisk contains the operating system disk information
                      for a Virtual Machine
                    properties:
                      cachingType:
                        description: CachingType specifies the caching requirements.
                        enum:
                        - None
                        - ReadOnly
                        - ReadWrite
                        type: string
                      diffDiskSettings:
                        description: DiffDiskSettings describe ephemeral disk settings
                          for the os disk.
                        properties:
                          option:
                            description: Option enables ephemeral OS when set to "Local"
                              See https://learn.microsoft.com/azure/virtual-machines/ephemeral-os-disks
                              for full details
                            enum:
                            - Local
                            type: string
                        required:
                        - option
                        type: object
                      diskSizeGB:
                        description: DiskSizeGB is the size in GB to assign to the
                          OS disk. Will have a default of 30GB if not provided
                        format: int32
                        type: integer
                      managedDisk:
                        description: ManagedDisk specifies the Managed Disk parameters
                          for the OS disk.
                        properties:
                          diskEncryptionSet:
                            description: DiskEncryptionSet specifies the customer-managed
                              disk encryption set resource id for the managed disk.
                            properties:
                              id:
                                description: ID defines resourceID for diskEncryptionSet
                                  resource. It must be in the same subscription
                                type: string
                            type: object
                          securityProfile:
                            description: SecurityProfile specifies the security profile
                              for the managed disk.
                            properties:
                              diskEncryptionSet:
                                description: DiskEncryptionSet specifies the customer-managed
                                  disk encryption set resource id for the managed
                                  disk that is used for Customer Managed Key encrypted
                                  ConfidentialVM OS Disk and VMGuest blob.
                                properties:
                                  id:
                                    description: ID defines resourceID for diskEncryptionSet
                                      resource. It must be in the same subscription
                                    type: string
                                type: object
                              securityEncryptionType:
                                description: SecurityEncryptionType specifies the
                                  encryption type of the managed disk. It is set to
                                  DiskWithVMGuestState to encrypt the managed disk
                                  along with the VMGuestState blob, and to VMGuestStateOnly
                                  to encrypt the VMGuestState blob only. When set
                                  to VMGuestStateOnly, VirtualizedTrustedPlatformModule
                                  should be set to Enabled. When set to DiskWithVMGuestState,
                                  EncryptionAtHost should be disabled, SecureBoot
                                  and VirtualizedTrustedPlatformModule should be set
                                  to Enabled. It can be set only for Confidential
                                  VMs.
                                enum:
                                - VMGuestStateOnly
                                - DiskWithVMGuestState
                                type: string
                            type: object
                          storageAccountType:
                            type: string
                        type: object
                      osType:
                        type: string
                    required:
                    - osType
                    type: object
                  securityProfile:
                    description: SecurityProfile specifies the Security profile settings
                      for a virtual machine.
                    properties:
                      encryptionAtHost:
                        description: This field indicates whether Host Encryption
                          should be enabled or disabled for a virtual machine or virtual
                          machine scale set. This should be disabled when SecurityEncryptionType
                          is set to DiskWithVMGuestState. Default is disabled.
                        type: boolean
                      securityType:
                        description: 'SecurityType specifies the SecurityType of the
                          virtual machine. It has to be set to any specified value
                          to enable UefiSettings. The default behavior is: UefiSettings
                          will not be enabled unless this property is set.'
                        enum:
                        - ConfidentialVM
                        - TrustedLaunch
                        type: string
                      uefiSettings:
                        description: UefiSettings specifies the security settings
                          like secure boot and vTPM used while creating the virtual
                          machine.
                        properties:
                          secureBootEnabled:
                            description: SecureBootEnabled specifies whether secure
                              boot should be enabled on the virtual machine. Secure
                              Boot verifies the digital signature of all boot components
                              and halts the boot process if signature verification
                              fails. If omitted, the platform chooses a default, which
                              is subject to change over time, currently that default
                              is false.
                            type: boolean
                          vTpmEnabled:
                            description: VTpmEnabled specifies whether vTPM should
                              be enabled on the virtual machine. When true it enables
                              the virtualized trusted platform module measurements
                              to create a known good boot integrity policy baseline.
                              The integrity policy baseline is used for comparison
                              with measurements from subsequent VM boots to determine
                              if anything has changed. This is required to be set
                              to Enabled if SecurityEncryptionType is defined. If
                              omitted, the platform chooses a default, which is subject
                              to change over time, currently that default is false.
                            type: boolean
                        type: object
                    type: object
                  spotVMOptions:
                    description: SpotVMOptions allows the ability to specify the Machine
                      should use a Spot VM
                    properties:
                      evictionPolicy:
                        description: EvictionPolicy defines the behavior of the virtual
                          machine when it is evicted. It can be either Delete or Deallocate.
                        enum:
                        - Deallocate
                        - Delete
                        type: string
                      maxPrice:
                        anyOf:
                        - type: integer
                        - type: string
                        description: MaxPrice defines the maximum price the user is
                          willing to pay for Spot VM instances
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                    type: object
                  sshPublicKey:
                    description: SSHPublicKey is the SSH public key string, base64-encoded
                      to add to a Virtual Machine. Linux only. Refer to documentation
                      on how to set up SSH access on Windows instances.
                    type: string
                  subnetName:
                    description: 'Deprecated: SubnetName should be set in the networkInterfaces
                      field.'
                    type: string
                  terminateNotificationTimeout:
                    description: TerminateNotificationTimeout enables or disables
                      VMSS scheduled events termination notification with specified
                      timeout allowed values are between 5 and 15 (mins)
                    type: integer
                  vmExtensions:
                    description: VMExtensions specifies a list of extensions to be
                      added to the scale set.
                    items:
                      description: VMExtension specifies the parameters for a custom
                        VM extension.
                      properties:
                        name:
                          description: Name is the name of the extension.
                          type: string
                        protectedSettings:
                          additionalProperties:
                            type: string
                          description: ProtectedSettings is a JSON formatted protected
                            settings for the extension.
                          type: object
                        publisher:
                          description: Publisher is the name of the extension handler
                            publisher.
                          type: string
                        settings:
                          additionalProperties:
                            type: string
                          description: Settings is a JSON formatted public settings
                            for the extension.
                          type: object
                        version:
                          description: Version specifies the version of the script
                            handler.
                          type: string
                      required:
                      - name
                      - publisher
                      - version
                      type: object
                    type: array
                  vmSize:
                    description: VMSize is the size of the Virtual Machine to build.
                      See https://learn.microsoft.com/rest/api/compute/virtualmachines/createorupdate#virtualmachinesizetypes
                    type: string
                required:
                - osDisk
                - vmSize
                type: object
              userAssignedIdentities:
                description: UserAssignedIdentities is a list of standalone Azure
                  identities provided by the user The lifecycle of a user-assigned
                  identity is managed separately from the lifecycle of the AzureMachinePool.
                  See https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/how-to-manage-ua-identity-cli
                items:
                  description: UserAssignedIdentity defines the user-assigned identities
                    provided by the user to be assigned to Azure resources.
                  properties:
                    providerID:
                      description: 'ProviderID is the identification ID of the user-assigned
                        Identity, the format of an identity is: ''azure:///subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'''
                      type: string
                  required:
                  - providerID
                  type: object
                type: array
            required:
            - location
            - template
            type: object
          status:
            description: AzureMachinePoolStatus defines the observed state of AzureMachinePool.
            properties:
              conditions:
                description: Conditions defines current service state of the AzureMachinePool.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              failureMessage:
                description: "FailureMessage will be set in the event that there is
                  a terminal problem reconciling the MachinePool and will contain
                  a more verbose string suitable for logging and human consumption.
                  \n This field should not be set for transitive errors that a controller
                  faces that are expected to be fixed automatically over time (like
                  service outages), but instead indicate that something is fundamentally
                  wrong with the MachinePool's spec or the configuration of the controller,
                  and that manual intervention is required. Examples of terminal errors
                  would be invalid combinations of settings in the spec, values that
                  are unsupported by the controller, or the responsible controller
                  itself being critically misconfigured. \n Any transient errors that
                  occur during the reconciliation of MachinePools can be added as
                  events to the MachinePool object and/or logged in the controller's
                  output."
                type: string
              failureReason:
                description: "FailureReason will be set in the event that there is
                  a terminal problem reconciling the MachinePool and will contain
                  a succinct value suitable for machine interpretation. \n This field
                  should not be set for transitive errors that a controller faces
                  that are expected to be fixed automatically over time (like service
                  outages), but instead indicate that something is fundamentally wrong
                  with the MachinePool's spec or the configuration of the controller,
                  and that manual intervention is required. Examples of terminal errors
                  would be invalid combinations of settings in the spec, values that
                  are unsupported by the controller, or the responsible controller
                  itself being critically misconfigured. \n Any transient errors that
                  occur during the reconciliation of MachinePools can be added as
                  events to the MachinePool object and/or logged in the controller's
                  output."
                type: string
              image:
                description: Image is the current image used in the AzureMachinePool.
                  When the spec image is nil, this image is populated with the details
                  of the defaulted Azure Marketplace "capi" offer.
                properties:
                  computeGallery:
                    description: ComputeGallery specifies an image to use from the
                      Azure Compute Gallery
                    properties:
                      gallery:
                        description: Gallery specifies the name of the compute image
                          gallery that contains the image
                        minLength: 1
                        type: string
                      name:
                        description: Name is the name of the image
                        minLength: 1
                        type: string
                      plan:
                        description: Plan contains plan information.
                        properties:
                          offer:
                            description: Offer specifies the name of a group of related
                              images created by the publisher. For example, UbuntuServer,
                              WindowsServer
                            minLength: 1
                            type: string
                          publisher:
                            description: Publisher is the name of the organization
                              that created the image
                            minLength: 1
                            type: string
                          sku:
                            description: SKU specifies an instance of an offer, such
                              as a major release of a distribution. For example, 18.04-LTS,
                              2019-Datacenter
                            minLength: 1
                            type: string
                        required:
                        - offer
                        - publisher
                        - sku
                        type: object
                      resourceGroup:
                        description: ResourceGroup specifies the resource group containing
                          the private compute gallery.
                        type: string
                      subscriptionID:
                        description: SubscriptionID is the identifier of the subscription
                          that contains the private compute gallery.
                        type: string
                      version:
                        description: Version specifies the version of the marketplace
                          image. The allowed formats are Major.Minor.Build or 'latest'.
                          Major, Minor, and Build are decimal numbers. Specify 'latest'
                          to use the latest version of an image available at deploy
                          time. Even if you use 'latest', the VM image will not automatically
                          update after deploy time even if a new version becomes available.
                        minLength: 1
                        type: string
                    required:
                    - gallery
                    - name
                    - version
                    type: object
                  id:
                    description: ID specifies an image to use by ID
                    type: string
                  marketplace:
                    description: Marketplace specifies an image to use from the Azure
                      Marketplace
                    properties:
                      offer:
                        description: Offer specifies the name of a group of related
                          images created by the publisher. For example, UbuntuServer,
                          WindowsServer
                        minLength: 1
                        type: string
                      publisher:
                        description: Publisher is the name of the organization that
                          created the image
                        minLength: 1
                        type: string
                      sku:
                        description: SKU specifies an instance of an offer, such as
                          a major release of a distribution. For example, 18.04-LTS,
                          2019-Datacenter
                        minLength: 1
                        type: string
                      thirdPartyImage:
                        default: false
                        description: ThirdPartyImage indicates the image is published
                          by a third party publisher and a Plan will be generated
                          for it.
                        type: boolean
                      version:
                        description: Version specifies the version of an image sku.
                          The allowed formats are Major.Minor.Build or 'latest'. Major,
                          Minor, and Build are decimal numbers. Specify 'latest' to
                          use the latest version of an image available at deploy time.
                          Even if you use 'latest', the VM image will not automatically
                          update after deploy time even if a new version becomes available.
                        minLength: 1
                        type: string
                    required:
                    - offer
                    - publisher
                    - sku
                    - version
                    type: object
                  sharedGallery:
                    description: 'SharedGallery specifies an image to use from an
                      Azure Shared Image Gallery Deprecated: use ComputeGallery instead.'
                    properties:
                      gallery:
                        description: Gallery specifies the name of the shared image
                          gallery that contains the image
                        minLength: 1
                        type: string
                      name:
                        description: Name is the name of the image
                        minLength: 1
                        type: string
                      offer:
                        description: Offer specifies the name of a group of related
                          images created by the publisher. For example, UbuntuServer,
                          WindowsServer This value will be used to add a `Plan` in
                          the API request when creating the VM/VMSS resource. This
                          is needed when the source image from which this SIG image
                          was built requires the `Plan` to be used.
                        type: string
                      publisher:
                        description: Publisher is the name of the organization that
                          created the image. This value will be used to add a `Plan`
                          in the API request when creating the VM/VMSS resource. This
                          is needed when the source image from which this SIG image
                          was built requires the `Plan` to be used.
                        type: string
                      resourceGroup:
                        description: ResourceGroup specifies the resource group containing
                          the shared image gallery
                        minLength: 1
                        type: string
                      sku:
                        description: SKU specifies an instance of an offer, such as
                          a major release of a distribution. For example, 18.04-LTS,
                          2019-Datacenter This value will be used to add a `Plan`
                          in the API request when creating the VM/VMSS resource. This
                          is needed when the source image from which this SIG image
                          was built requires the `Plan` to be used.
                        type: string
                      subscriptionID:
                        description: SubscriptionID is the identifier of the subscription
                          that contains the shared image gallery
                        minLength: 1
                        type: string
                      version:
                        description: Version specifies the version of the marketplace
                          image. The allowed formats are Major.Minor.Build or 'latest'.
                          Major, Minor, and Build are decimal numbers. Specify 'latest'
                          to use the latest version of an image available at deploy
                          time. Even if you use 'latest', the VM image will not automatically
                          update after deploy time even if a new version becomes available.
                        minLength: 1
                        type: string
                    required:
                    - gallery
                    - name
                    - resourceGroup
                    - subscriptionID
                    - version
                    type: object
                type: object
              infrastructureMachineKind:
                description: InfrastructureMachineKind is the kind of the infrastructure
                  resources behind MachinePool Machines.
                type: string
              instances:
                description: Instances is the VM instance status for each VM in the
                  VMSS
                items:
                  description: AzureMachinePoolInstanceStatus provides status information
                    for each instance in the VMSS.
                  properties:
                    instanceID:
                      description: InstanceID is the identification of the Machine
                        Instance within the VMSS
                      type: string
                    instanceName:
                      description: InstanceName is the name of the Machine Instance
                        within the VMSS
                      type: string
                    latestModelApplied:
                      description: LatestModelApplied indicates the instance is running
                        the most up-to-date VMSS model. A VMSS model describes the
                        image version the VM is running. If the instance is not running
                        the latest model, it means the instance may not be running
                        the version of Kubernetes the Machine Pool has specified and
                        needs to be updated.
                      type: boolean
                    providerID:
                      description: ProviderID is the provider identification of the
                        VMSS Instance
                      type: string
                    provisioningState:
                      description: ProvisioningState is the provisioning state of
                        the Azure virtual machine instance.
                      type: string
                    version:
                      description: Version defines the Kubernetes version for the
                        VM Instance
                      type: string
                  required:
                  - latestModelApplied
                  type: object
                type: array
              longRunningOperationStates:
                description: LongRunningOperationStates saves the state for Azure
                  long-running operations so they can be continued on the next reconciliation
                  loop.
                items:
                  description: Future contains the data needed for an Azure long-running
                    operation to continue across reconcile loops.
                  properties:
                    data:
                      description: Data is the base64 url encoded json Azure AutoRest
                        Future.
                      type: string
                    name:
                      description: Name is the name of the Azure resource. Together
                        with the service name, this forms the unique identifier for
                        the future.
                      type: string
                    resourceGroup:
                      description: ResourceGroup is the Azure resource group for the
                        resource.
                      type: string
                    serviceName:
                      description: ServiceName is the name of the Azure service. Together
                        with the name of the resource, this forms the unique identifier
                        for the future.
                      type: string
                    type:
                      description: Type describes the type of future, such as update,
                        create, delete, etc.
                      type: string
                  required:
                  - data
                  - name
                  - serviceName
                  - type
                  type: object
                type: array
              provisioningState:
                description: ProvisioningState is the provisioning state of the Azure
                  virtual machine.
                type: string
              ready:
                description: Ready is true when the provider resource is ready.
                type: boolean
              replicas:
                description: Replicas is the most recently observed number of replicas.
                format: int32
                type: integer
              version:
                description: Version is the Kubernetes version for the current VMSS
                  model
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
