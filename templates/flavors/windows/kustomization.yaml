apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default
resources:
- ../default
- machine-deployment-windows.yaml

patches:
- path: ../base-windows-containerd/cluster.yaml
- path: patches/kubeadm-config-template.yaml
- target:
    kind: AzureCluster
  patch: |-
    - op: replace
      path: /spec/networkSpec/apiServerLB/frontendIPs/1/privateIP
      value: 70.11.0.100
- target:
    kind: AzureCluster
  patch: |-
    - op: replace
      path: /spec/networkSpec/vnet/cidrBlocks/0
      value: 70.11.0.0/8
- target:
    kind: AzureCluster
  patch: |-
    - op: replace
      path: /spec/networkSpec/subnets/0/cidrBlocks/0
      value: 70.11.0.0/16
- target:
    kind: AzureCluster
  patch: |-
    - op: replace
      path: /spec/networkSpec/subnets/1/cidrBlocks/0
      value: 70.11.1.0/16

sortOptions:
  order: fifo
