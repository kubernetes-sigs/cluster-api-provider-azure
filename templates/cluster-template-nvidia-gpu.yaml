apiVersion: cluster.x-k8s.io/v1beta1
kind: Cluster
metadata:
  labels:
    cni: calico
    gpu: nvidia
  name: ${CLUSTER_NAME}
  namespace: default
spec:
  clusterNetwork:
    pods:
      cidrBlocks:
      - 192.168.0.0/16
  controlPlaneRef:
    apiVersion: controlplane.cluster.x-k8s.io/v1beta1
    kind: KubeadmControlPlane
    name: ${CLUSTER_NAME}-control-plane
  infrastructureRef:
    apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
    kind: AzureCluster
    name: ${CLUSTER_NAME}
---
apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
kind: AzureCluster
metadata:
  name: ${CLUSTER_NAME}
  namespace: default
spec:
  identityRef:
    apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
    kind: AzureClusterIdentity
    name: ${CLUSTER_IDENTITY_NAME}
  location: ${AZURE_LOCATION}
  networkSpec:
    subnets:
    - name: control-plane-subnet
      role: control-plane
    - name: node-subnet
      natGateway:
        name: node-natgateway
      role: node
    vnet:
      name: ${AZURE_VNET_NAME:=${CLUSTER_NAME}-vnet}
  resourceGroup: ${AZURE_RESOURCE_GROUP:=${CLUSTER_NAME}}
  subscriptionID: ${AZURE_SUBSCRIPTION_ID}
---
apiVersion: controlplane.cluster.x-k8s.io/v1beta1
kind: KubeadmControlPlane
metadata:
  name: ${CLUSTER_NAME}-control-plane
  namespace: default
spec:
  kubeadmConfigSpec:
    clusterConfiguration:
      apiServer:
        extraArgs:
          cloud-config: /etc/kubernetes/azure.json
          cloud-provider: azure
        extraVolumes:
        - hostPath: /etc/kubernetes/azure.json
          mountPath: /etc/kubernetes/azure.json
          name: cloud-config
          readOnly: true
        timeoutForControlPlane: 20m
      controllerManager:
        extraArgs:
          allocate-node-cidrs: "false"
          cloud-config: /etc/kubernetes/azure.json
          cloud-provider: azure
          cluster-name: ${CLUSTER_NAME}
        extraVolumes:
        - hostPath: /etc/kubernetes/azure.json
          mountPath: /etc/kubernetes/azure.json
          name: cloud-config
          readOnly: true
      etcd:
        local:
          dataDir: /var/lib/etcddisk/etcd
          extraArgs:
            quota-backend-bytes: "8589934592"
    diskSetup:
      filesystems:
      - device: /dev/disk/azure/scsi1/lun0
        extraOpts:
        - -E
        - lazy_itable_init=1,lazy_journal_init=1
        filesystem: ext4
        label: etcd_disk
      - device: ephemeral0.1
        filesystem: ext4
        label: ephemeral0
        replaceFS: ntfs
      partitions:
      - device: /dev/disk/azure/scsi1/lun0
        layout: true
        overwrite: false
        tableType: gpt
    files:
    - contentFrom:
        secret:
          key: control-plane-azure.json
          name: ${CLUSTER_NAME}-control-plane-azure-json
      owner: root:root
      path: /etc/kubernetes/azure.json
      permissions: "0644"
    initConfiguration:
      nodeRegistration:
        kubeletExtraArgs:
          azure-container-registry-config: /etc/kubernetes/azure.json
          cloud-config: /etc/kubernetes/azure.json
          cloud-provider: azure
        name: '{{ ds.meta_data["local_hostname"] }}'
    joinConfiguration:
      nodeRegistration:
        kubeletExtraArgs:
          azure-container-registry-config: /etc/kubernetes/azure.json
          cloud-config: /etc/kubernetes/azure.json
          cloud-provider: azure
        name: '{{ ds.meta_data["local_hostname"] }}'
    mounts:
    - - LABEL=etcd_disk
      - /var/lib/etcddisk
    postKubeadmCommands: []
    preKubeadmCommands: []
  machineTemplate:
    infrastructureRef:
      apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
      kind: AzureMachineTemplate
      name: ${CLUSTER_NAME}-control-plane
  replicas: ${CONTROL_PLANE_MACHINE_COUNT}
  version: ${KUBERNETES_VERSION}
---
apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
kind: AzureMachineTemplate
metadata:
  name: ${CLUSTER_NAME}-control-plane
  namespace: default
spec:
  template:
    spec:
      dataDisks:
      - diskSizeGB: 256
        lun: 0
        nameSuffix: etcddisk
      osDisk:
        diskSizeGB: 128
        osType: Linux
      sshPublicKey: ${AZURE_SSH_PUBLIC_KEY_B64:=""}
      vmSize: ${AZURE_CONTROL_PLANE_MACHINE_TYPE}
---
apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
kind: AzureClusterIdentity
metadata:
  labels:
    clusterctl.cluster.x-k8s.io/move-hierarchy: "true"
  name: ${CLUSTER_IDENTITY_NAME}
  namespace: default
spec:
  allowedNamespaces: {}
  clientID: ${AZURE_CLIENT_ID}
  clientSecret:
    name: ${AZURE_CLUSTER_IDENTITY_SECRET_NAME}
    namespace: ${AZURE_CLUSTER_IDENTITY_SECRET_NAMESPACE}
  tenantID: ${AZURE_TENANT_ID}
  type: ServicePrincipal
---
apiVersion: cluster.x-k8s.io/v1beta1
kind: MachineDeployment
metadata:
  name: ${CLUSTER_NAME}-md-0
  namespace: default
spec:
  clusterName: ${CLUSTER_NAME}
  replicas: ${WORKER_MACHINE_COUNT}
  selector:
    matchLabels: null
  template:
    spec:
      bootstrap:
        configRef:
          apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
          kind: KubeadmConfigTemplate
          name: ${CLUSTER_NAME}-md-0
      clusterName: ${CLUSTER_NAME}
      infrastructureRef:
        apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
        kind: AzureMachineTemplate
        name: ${CLUSTER_NAME}-md-0
      version: ${KUBERNETES_VERSION}
---
apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
kind: AzureMachineTemplate
metadata:
  name: ${CLUSTER_NAME}-md-0
  namespace: default
spec:
  template:
    spec:
      osDisk:
        diskSizeGB: 128
        managedDisk:
          storageAccountType: Premium_LRS
        osType: Linux
      sshPublicKey: ${AZURE_SSH_PUBLIC_KEY_B64:=""}
      vmSize: ${AZURE_NODE_MACHINE_TYPE}
---
apiVersion: bootstrap.cluster.x-k8s.io/v1beta1
kind: KubeadmConfigTemplate
metadata:
  name: ${CLUSTER_NAME}-md-0
  namespace: default
spec:
  template:
    spec:
      files:
      - contentFrom:
          secret:
            key: worker-node-azure.json
            name: ${CLUSTER_NAME}-md-0-azure-json
        owner: root:root
        path: /etc/kubernetes/azure.json
        permissions: "0644"
      joinConfiguration:
        nodeRegistration:
          kubeletExtraArgs:
            azure-container-registry-config: /etc/kubernetes/azure.json
            cloud-config: /etc/kubernetes/azure.json
            cloud-provider: azure
          name: '{{ ds.meta_data["local_hostname"] }}'
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  name: crs-gpu-operator
  namespace: default
spec:
  clusterSelector:
    matchLabels:
      gpu: nvidia
  resources:
  - kind: ConfigMap
    name: nvidia-clusterpolicy-crd
  - kind: ConfigMap
    name: nvidia-gpu-operator-components
  strategy: ApplyOnce
---
apiVersion: v1
data:
  clusterpolicy-crd.yaml: |+
    ---
    # Source: gpu-operator/crds/nvidia.com_clusterpolicies_crd.yaml
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      annotations:
        controller-gen.kubebuilder.io/version: v0.4.1
      creationTimestamp: null
      name: clusterpolicies.nvidia.com
    spec:
      group: nvidia.com
      names:
        kind: ClusterPolicy
        listKind: ClusterPolicyList
        plural: clusterpolicies
        singular: clusterpolicy
      scope: Cluster
      versions:
      - name: v1
        schema:
          openAPIV3Schema:
            description: ClusterPolicy is the Schema for the clusterpolicies API
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation
                  of an object. Servers should convert recognized schemas to the latest
                  internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this
                  object represents. Servers may infer this from the endpoint the client
                  submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                description: ClusterPolicySpec defines the desired state of ClusterPolicy
                properties:
                  daemonsets:
                    description: Daemonset defines common configuration for all Daemonsets
                    properties:
                      priorityClassName:
                        type: string
                      tolerations:
                        description: 'Optional: Set tolerations'
                        items:
                          description: The pod this Toleration is attached to tolerates
                            any taint that matches the triple <key,value,effect> using
                            the matching operator <operator>.
                          properties:
                            effect:
                              description: Effect indicates the taint effect to match.
                                Empty means match all taint effects. When specified, allowed
                                values are NoSchedule, PreferNoSchedule and NoExecute.
                              type: string
                            key:
                              description: Key is the taint key that the toleration applies
                                to. Empty means match all taint keys. If the key is empty,
                                operator must be Exists; this combination means to match
                                all values and all keys.
                              type: string
                            operator:
                              description: Operator represents a key's relationship to
                                the value. Valid operators are Exists and Equal. Defaults
                                to Equal. Exists is equivalent to wildcard for value,
                                so that a pod can tolerate all taints of a particular
                                category.
                              type: string
                            tolerationSeconds:
                              description: TolerationSeconds represents the period of
                                time the toleration (which must be of effect NoExecute,
                                otherwise this field is ignored) tolerates the taint.
                                By default, it is not set, which means tolerate the taint
                                forever (do not evict). Zero and negative values will
                                be treated as 0 (evict immediately) by the system.
                              format: int64
                              type: integer
                            value:
                              description: Value is the taint value the toleration matches
                                to. If the operator is Exists, the value should be empty,
                                otherwise just a regular string.
                              type: string
                          type: object
                        type: array
                    type: object
                  dcgm:
                    description: DCGM component spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      enabled:
                        description: Enabled indicates if deployment of DCGM hostengine
                          as a separate pod is enabled.
                        type: boolean
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      hostPort:
                        description: 'HostPort represents host port that needs to be bound
                          for DCGM engine (Default: 5555)'
                        format: int32
                        type: integer
                      image:
                        description: DCGM image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: DCGM image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: DCGM image tag
                        type: string
                    type: object
                  dcgmExporter:
                    description: DCGMExporter spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      config:
                        description: 'Optional: Custom metrics configuration for DCGM
                          exporter'
                        properties:
                          name:
                            description: ConfigMap name with file dcgm-metrics.csv for
                              metrics to be collected by DCGM exporter
                            type: string
                        type: object
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: DCGM image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: DCGM image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: DCGM image tag
                        type: string
                    type: object
                  devicePlugin:
                    description: DevicePlugin component spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: DevicePlugin image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: DevicePlugin image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: DevicePlugin image tag
                        type: string
                    type: object
                  driver:
                    description: Driver component spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      certConfig:
                        description: 'Optional: Custom certificates configuration for
                          driver container'
                        properties:
                          name:
                            type: string
                        type: object
                      enabled:
                        description: Enabled indicates if deployment of driver through
                          operator is enabled
                        type: boolean
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: Driver image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      kernelModuleConfig:
                        description: 'Optional: Kernel module configuration parameters
                          for the NVIDIA driver'
                        properties:
                          name:
                            type: string
                        type: object
                      licensingConfig:
                        description: 'Optional: Licensing configuration for vGPU drivers'
                        properties:
                          configMapName:
                            type: string
                          nlsEnabled:
                            description: NLSEnabled indicates if NLS is used for licensing.
                            type: boolean
                        type: object
                      manager:
                        description: Manager represents configuration for driver manager
                          initContainer
                        properties:
                          env:
                            description: 'Optional: List of environment variables'
                            items:
                              description: EnvVar represents an environment variable present
                                in a Container.
                              properties:
                                name:
                                  description: Name of the environment variable. Must
                                    be a C_IDENTIFIER.
                                  type: string
                                value:
                                  description: 'Variable references $(VAR_NAME) are expanded
                                    using the previously defined environment variables
                                    in the container and any service environment variables.
                                    If a variable cannot be resolved, the reference in
                                    the input string will be unchanged. Double $$ are
                                    reduced to a single $, which allows for escaping the
                                    $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce
                                    the string literal "$(VAR_NAME)". Escaped references
                                    will never be expanded, regardless of whether the
                                    variable exists or not. Defaults to "".'
                                  type: string
                                valueFrom:
                                  description: Source for the environment variable's value.
                                    Cannot be used if value is not empty.
                                  properties:
                                    configMapKeyRef:
                                      description: Selects a key of a ConfigMap.
                                      properties:
                                        key:
                                          description: The key to select.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the ConfigMap or
                                            its key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                    fieldRef:
                                      description: 'Selects a field of the pod: supports
                                        metadata.name, metadata.namespace, `metadata.labels[''<KEY>'']`,
                                        `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                        spec.serviceAccountName, status.hostIP, status.podIP,
                                        status.podIPs.'
                                      properties:
                                        apiVersion:
                                          description: Version of the schema the FieldPath
                                            is written in terms of, defaults to "v1".
                                          type: string
                                        fieldPath:
                                          description: Path of the field to select in
                                            the specified API version.
                                          type: string
                                      required:
                                      - fieldPath
                                      type: object
                                    resourceFieldRef:
                                      description: 'Selects a resource of the container:
                                        only resources limits and requests (limits.cpu,
                                        limits.memory, limits.ephemeral-storage, requests.cpu,
                                        requests.memory and requests.ephemeral-storage)
                                        are currently supported.'
                                      properties:
                                        containerName:
                                          description: 'Container name: required for volumes,
                                            optional for env vars'
                                          type: string
                                        divisor:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: Specifies the output format of
                                            the exposed resources, defaults to "1"
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          description: 'Required: resource to select'
                                          type: string
                                      required:
                                      - resource
                                      type: object
                                    secretKeyRef:
                                      description: Selects a key of a secret in the pod's
                                        namespace
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the Secret or its
                                            key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                  type: object
                              required:
                              - name
                              type: object
                            type: array
                          image:
                            description: Image represents Driver-Manager image name
                            pattern: '[a-zA-Z0-9\-]+'
                            type: string
                          imagePullPolicy:
                            description: Image pull policy
                            type: string
                          imagePullSecrets:
                            description: Image pull secrets
                            items:
                              type: string
                            type: array
                          repository:
                            description: Repository represents Driver-Manager repository
                              path
                            type: string
                          version:
                            description: Version represents Driver-Manager image tag(version)
                            type: string
                        type: object
                      rdma:
                        description: GPUDirectRDMASpec defines the properties for nv_peer_mem
                          deployment
                        properties:
                          enabled:
                            description: Enabled indicates if GPUDirect RDMA is enabled
                              through GPU operator
                            type: boolean
                          useHostMofed:
                            description: UseHostMOFED indicates to use MOFED drivers directly
                              installed on the host to enable GPUDirect RDMA
                            type: boolean
                        type: object
                      repoConfig:
                        description: 'Optional: Custom repo configuration for driver container'
                        properties:
                          configMapName:
                            type: string
                        type: object
                      repository:
                        description: Driver image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      use_ocp_driver_toolkit:
                        description: UseOpenShiftDriverToolkit indicates if DriverToolkit
                          image should be used on OpenShift to build and install driver
                          modules
                        type: boolean
                      version:
                        description: Driver image tag
                        type: string
                      virtualTopology:
                        description: 'Optional: Virtual Topology Daemon configuration
                          for vGPU drivers'
                        properties:
                          config:
                            description: 'Optional: Config name representing virtual topology
                              daemon configuration file nvidia-topologyd.conf'
                            type: string
                        type: object
                    type: object
                  gds:
                    description: GPUDirectStorage defines the spec for GDS components(Experimental)
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      enabled:
                        description: Enabled indicates if GPUDirect Storage is enabled
                          through GPU operator
                        type: boolean
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: Driver image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: Driver image repository
                        type: string
                      version:
                        description: Driver image tag
                        type: string
                    type: object
                  gfd:
                    description: GPUFeatureDiscovery spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: GFD image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: GFD image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: GFD image tag
                        type: string
                    type: object
                  mig:
                    description: MIG spec
                    properties:
                      strategy:
                        description: 'Optional: MIGStrategy to apply for GFD and Device-Plugin'
                        enum:
                        - none
                        - single
                        - mixed
                        type: string
                    type: object
                  migManager:
                    description: MIGManager for configuration to deploy MIG Manager
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      config:
                        description: 'Optional: Custom mig-parted configuration for MIG
                          Manager container'
                        properties:
                          name:
                            description: ConfigMap name
                            type: string
                        type: object
                      enabled:
                        description: Enabled indicates if deployment of mig-manager is
                          enabled
                        type: boolean
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      gpuClientsConfig:
                        description: 'Optional: Custom gpu-clients configuration for MIG
                          Manager container'
                        properties:
                          name:
                            description: ConfigMap name
                            type: string
                        type: object
                      image:
                        description: mig-manager image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: mig-manager image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: mig-manager image tag
                        type: string
                    type: object
                  nodeStatusExporter:
                    description: NodeStatusExporter spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      enabled:
                        description: Enabled indicates if deployment of node-status-exporter
                          is enabled.
                        type: boolean
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: node-status-exporter image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: node-status-exporter image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: node-status-exporter image tag
                        type: string
                    type: object
                  operator:
                    description: Operator component spec
                    properties:
                      defaultRuntime:
                        default: docker
                        description: Runtime defines container runtime type
                        enum:
                        - docker
                        - crio
                        - containerd
                        type: string
                      initContainer:
                        description: InitContainerSpec describes configuration for initContainer
                          image used with all components
                        properties:
                          image:
                            description: Image represents image name
                            pattern: '[a-zA-Z0-9\-]+'
                            type: string
                          imagePullPolicy:
                            description: Image pull policy
                            type: string
                          imagePullSecrets:
                            description: Image pull secrets
                            items:
                              type: string
                            type: array
                          repository:
                            description: Repository represents image repository path
                            type: string
                          version:
                            description: Version represents image tag(version)
                            type: string
                        type: object
                      runtimeClass:
                        default: nvidia
                        type: string
                    required:
                    - defaultRuntime
                    type: object
                  psp:
                    description: PSP defines spec for handling PodSecurityPolicies
                    properties:
                      enabled:
                        description: Enabled indicates if PodSecurityPolicies needs to
                          be enabled for all Pods
                        type: boolean
                    type: object
                  toolkit:
                    description: Toolkit component spec
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      enabled:
                        description: Enabled indicates if deployment of container-toolkit
                          through operator is enabled
                        type: boolean
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: Toolkit image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      repository:
                        description: Toolkit image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      version:
                        description: Toolkit image tag
                        type: string
                    type: object
                  validator:
                    description: Validator defines the spec for operator-validator daemonset
                    properties:
                      args:
                        description: 'Optional: List of arguments'
                        items:
                          type: string
                        type: array
                      cuda:
                        description: CUDA validator spec
                        properties:
                          env:
                            description: 'Optional: List of environment variables'
                            items:
                              description: EnvVar represents an environment variable present
                                in a Container.
                              properties:
                                name:
                                  description: Name of the environment variable. Must
                                    be a C_IDENTIFIER.
                                  type: string
                                value:
                                  description: 'Variable references $(VAR_NAME) are expanded
                                    using the previously defined environment variables
                                    in the container and any service environment variables.
                                    If a variable cannot be resolved, the reference in
                                    the input string will be unchanged. Double $$ are
                                    reduced to a single $, which allows for escaping the
                                    $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce
                                    the string literal "$(VAR_NAME)". Escaped references
                                    will never be expanded, regardless of whether the
                                    variable exists or not. Defaults to "".'
                                  type: string
                                valueFrom:
                                  description: Source for the environment variable's value.
                                    Cannot be used if value is not empty.
                                  properties:
                                    configMapKeyRef:
                                      description: Selects a key of a ConfigMap.
                                      properties:
                                        key:
                                          description: The key to select.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the ConfigMap or
                                            its key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                    fieldRef:
                                      description: 'Selects a field of the pod: supports
                                        metadata.name, metadata.namespace, `metadata.labels[''<KEY>'']`,
                                        `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                        spec.serviceAccountName, status.hostIP, status.podIP,
                                        status.podIPs.'
                                      properties:
                                        apiVersion:
                                          description: Version of the schema the FieldPath
                                            is written in terms of, defaults to "v1".
                                          type: string
                                        fieldPath:
                                          description: Path of the field to select in
                                            the specified API version.
                                          type: string
                                      required:
                                      - fieldPath
                                      type: object
                                    resourceFieldRef:
                                      description: 'Selects a resource of the container:
                                        only resources limits and requests (limits.cpu,
                                        limits.memory, limits.ephemeral-storage, requests.cpu,
                                        requests.memory and requests.ephemeral-storage)
                                        are currently supported.'
                                      properties:
                                        containerName:
                                          description: 'Container name: required for volumes,
                                            optional for env vars'
                                          type: string
                                        divisor:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: Specifies the output format of
                                            the exposed resources, defaults to "1"
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          description: 'Required: resource to select'
                                          type: string
                                      required:
                                      - resource
                                      type: object
                                    secretKeyRef:
                                      description: Selects a key of a secret in the pod's
                                        namespace
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the Secret or its
                                            key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                  type: object
                              required:
                              - name
                              type: object
                            type: array
                        type: object
                      driver:
                        description: Toolkit validator spec
                        properties:
                          env:
                            description: 'Optional: List of environment variables'
                            items:
                              description: EnvVar represents an environment variable present
                                in a Container.
                              properties:
                                name:
                                  description: Name of the environment variable. Must
                                    be a C_IDENTIFIER.
                                  type: string
                                value:
                                  description: 'Variable references $(VAR_NAME) are expanded
                                    using the previously defined environment variables
                                    in the container and any service environment variables.
                                    If a variable cannot be resolved, the reference in
                                    the input string will be unchanged. Double $$ are
                                    reduced to a single $, which allows for escaping the
                                    $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce
                                    the string literal "$(VAR_NAME)". Escaped references
                                    will never be expanded, regardless of whether the
                                    variable exists or not. Defaults to "".'
                                  type: string
                                valueFrom:
                                  description: Source for the environment variable's value.
                                    Cannot be used if value is not empty.
                                  properties:
                                    configMapKeyRef:
                                      description: Selects a key of a ConfigMap.
                                      properties:
                                        key:
                                          description: The key to select.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the ConfigMap or
                                            its key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                    fieldRef:
                                      description: 'Selects a field of the pod: supports
                                        metadata.name, metadata.namespace, `metadata.labels[''<KEY>'']`,
                                        `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                        spec.serviceAccountName, status.hostIP, status.podIP,
                                        status.podIPs.'
                                      properties:
                                        apiVersion:
                                          description: Version of the schema the FieldPath
                                            is written in terms of, defaults to "v1".
                                          type: string
                                        fieldPath:
                                          description: Path of the field to select in
                                            the specified API version.
                                          type: string
                                      required:
                                      - fieldPath
                                      type: object
                                    resourceFieldRef:
                                      description: 'Selects a resource of the container:
                                        only resources limits and requests (limits.cpu,
                                        limits.memory, limits.ephemeral-storage, requests.cpu,
                                        requests.memory and requests.ephemeral-storage)
                                        are currently supported.'
                                      properties:
                                        containerName:
                                          description: 'Container name: required for volumes,
                                            optional for env vars'
                                          type: string
                                        divisor:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: Specifies the output format of
                                            the exposed resources, defaults to "1"
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          description: 'Required: resource to select'
                                          type: string
                                      required:
                                      - resource
                                      type: object
                                    secretKeyRef:
                                      description: Selects a key of a secret in the pod's
                                        namespace
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the Secret or its
                                            key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                  type: object
                              required:
                              - name
                              type: object
                            type: array
                        type: object
                      env:
                        description: 'Optional: List of environment variables'
                        items:
                          description: EnvVar represents an environment variable present
                            in a Container.
                          properties:
                            name:
                              description: Name of the environment variable. Must be a
                                C_IDENTIFIER.
                              type: string
                            value:
                              description: 'Variable references $(VAR_NAME) are expanded
                                using the previously defined environment variables in
                                the container and any service environment variables. If
                                a variable cannot be resolved, the reference in the input
                                string will be unchanged. Double $$ are reduced to a single
                                $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                Escaped references will never be expanded, regardless
                                of whether the variable exists or not. Defaults to "".'
                              type: string
                            valueFrom:
                              description: Source for the environment variable's value.
                                Cannot be used if value is not empty.
                              properties:
                                configMapKeyRef:
                                  description: Selects a key of a ConfigMap.
                                  properties:
                                    key:
                                      description: The key to select.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the ConfigMap or its
                                        key must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                                fieldRef:
                                  description: 'Selects a field of the pod: supports metadata.name,
                                    metadata.namespace, `metadata.labels[''<KEY>'']`,
                                    `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                    spec.serviceAccountName, status.hostIP, status.podIP,
                                    status.podIPs.'
                                  properties:
                                    apiVersion:
                                      description: Version of the schema the FieldPath
                                        is written in terms of, defaults to "v1".
                                      type: string
                                    fieldPath:
                                      description: Path of the field to select in the
                                        specified API version.
                                      type: string
                                  required:
                                  - fieldPath
                                  type: object
                                resourceFieldRef:
                                  description: 'Selects a resource of the container: only
                                    resources limits and requests (limits.cpu, limits.memory,
                                    limits.ephemeral-storage, requests.cpu, requests.memory
                                    and requests.ephemeral-storage) are currently supported.'
                                  properties:
                                    containerName:
                                      description: 'Container name: required for volumes,
                                        optional for env vars'
                                      type: string
                                    divisor:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: Specifies the output format of the
                                        exposed resources, defaults to "1"
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      description: 'Required: resource to select'
                                      type: string
                                  required:
                                  - resource
                                  type: object
                                secretKeyRef:
                                  description: Selects a key of a secret in the pod's
                                    namespace
                                  properties:
                                    key:
                                      description: The key of the secret to select from.  Must
                                        be a valid secret key.
                                      type: string
                                    name:
                                      description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        TODO: Add other useful fields. apiVersion, kind,
                                        uid?'
                                      type: string
                                    optional:
                                      description: Specify whether the Secret or its key
                                        must be defined
                                      type: boolean
                                  required:
                                  - key
                                  type: object
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      image:
                        description: Validator image name
                        pattern: '[a-zA-Z0-9\-]+'
                        type: string
                      imagePullPolicy:
                        description: Image pull policy
                        type: string
                      imagePullSecrets:
                        description: Image pull secrets
                        items:
                          type: string
                        type: array
                      plugin:
                        description: Plugin validator spec
                        properties:
                          env:
                            description: 'Optional: List of environment variables'
                            items:
                              description: EnvVar represents an environment variable present
                                in a Container.
                              properties:
                                name:
                                  description: Name of the environment variable. Must
                                    be a C_IDENTIFIER.
                                  type: string
                                value:
                                  description: 'Variable references $(VAR_NAME) are expanded
                                    using the previously defined environment variables
                                    in the container and any service environment variables.
                                    If a variable cannot be resolved, the reference in
                                    the input string will be unchanged. Double $$ are
                                    reduced to a single $, which allows for escaping the
                                    $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce
                                    the string literal "$(VAR_NAME)". Escaped references
                                    will never be expanded, regardless of whether the
                                    variable exists or not. Defaults to "".'
                                  type: string
                                valueFrom:
                                  description: Source for the environment variable's value.
                                    Cannot be used if value is not empty.
                                  properties:
                                    configMapKeyRef:
                                      description: Selects a key of a ConfigMap.
                                      properties:
                                        key:
                                          description: The key to select.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the ConfigMap or
                                            its key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                    fieldRef:
                                      description: 'Selects a field of the pod: supports
                                        metadata.name, metadata.namespace, `metadata.labels[''<KEY>'']`,
                                        `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                        spec.serviceAccountName, status.hostIP, status.podIP,
                                        status.podIPs.'
                                      properties:
                                        apiVersion:
                                          description: Version of the schema the FieldPath
                                            is written in terms of, defaults to "v1".
                                          type: string
                                        fieldPath:
                                          description: Path of the field to select in
                                            the specified API version.
                                          type: string
                                      required:
                                      - fieldPath
                                      type: object
                                    resourceFieldRef:
                                      description: 'Selects a resource of the container:
                                        only resources limits and requests (limits.cpu,
                                        limits.memory, limits.ephemeral-storage, requests.cpu,
                                        requests.memory and requests.ephemeral-storage)
                                        are currently supported.'
                                      properties:
                                        containerName:
                                          description: 'Container name: required for volumes,
                                            optional for env vars'
                                          type: string
                                        divisor:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: Specifies the output format of
                                            the exposed resources, defaults to "1"
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          description: 'Required: resource to select'
                                          type: string
                                      required:
                                      - resource
                                      type: object
                                    secretKeyRef:
                                      description: Selects a key of a secret in the pod's
                                        namespace
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the Secret or its
                                            key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                  type: object
                              required:
                              - name
                              type: object
                            type: array
                        type: object
                      repository:
                        description: Validator image repository
                        type: string
                      resources:
                        description: 'Optional: Define resources requests and limits for
                          each pod'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of compute
                              resources required. If Requests is omitted for a container,
                              it defaults to Limits if that is explicitly specified, otherwise
                              to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      securityContext:
                        description: 'Optional: Security Context'
                        properties:
                          allowPrivilegeEscalation:
                            description: 'AllowPrivilegeEscalation controls whether a
                              process can gain more privileges than its parent process.
                              This bool directly controls if the no_new_privs flag will
                              be set on the container process. AllowPrivilegeEscalation
                              is true always when the container is: 1) run as Privileged
                              2) has CAP_SYS_ADMIN Note that this field cannot be set
                              when spec.os.name is windows.'
                            type: boolean
                          capabilities:
                            description: The capabilities to add/drop when running containers.
                              Defaults to the default set of capabilities granted by the
                              container runtime. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              add:
                                description: Added capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                              drop:
                                description: Removed capabilities
                                items:
                                  description: Capability represent POSIX capabilities
                                    type
                                  type: string
                                type: array
                            type: object
                          privileged:
                            description: Run container in privileged mode. Processes in
                              privileged containers are essentially equivalent to root
                              on the host. Defaults to false. Note that this field cannot
                              be set when spec.os.name is windows.
                            type: boolean
                          procMount:
                            description: procMount denotes the type of proc mount to use
                              for the containers. The default is DefaultProcMount which
                              uses the container runtime defaults for readonly paths and
                              masked paths. This requires the ProcMountType feature flag
                              to be enabled. Note that this field cannot be set when spec.os.name
                              is windows.
                            type: string
                          readOnlyRootFilesystem:
                            description: Whether this container has a read-only root filesystem.
                              Default is false. Note that this field cannot be set when
                              spec.os.name is windows.
                            type: boolean
                          runAsGroup:
                            description: The GID to run the entrypoint of the container
                              process. Uses runtime default if unset. May also be set
                              in PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            format: int64
                            type: integer
                          runAsNonRoot:
                            description: Indicates that the container must run as a non-root
                              user. If true, the Kubelet will validate the image at runtime
                              to ensure that it does not run as UID 0 (root) and fail
                              to start the container if it does. If unset or false, no
                              such validation will be performed. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence.
                            type: boolean
                          runAsUser:
                            description: The UID to run the entrypoint of the container
                              process. Defaults to user specified in image metadata if
                              unspecified. May also be set in PodSecurityContext.  If
                              set in both SecurityContext and PodSecurityContext, the
                              value specified in SecurityContext takes precedence. Note
                              that this field cannot be set when spec.os.name is windows.
                            format: int64
                            type: integer
                          seLinuxOptions:
                            description: The SELinux context to be applied to the container.
                              If unspecified, the container runtime will allocate a random
                              SELinux context for each container.  May also be set in
                              PodSecurityContext.  If set in both SecurityContext and
                              PodSecurityContext, the value specified in SecurityContext
                              takes precedence. Note that this field cannot be set when
                              spec.os.name is windows.
                            properties:
                              level:
                                description: Level is SELinux level label that applies
                                  to the container.
                                type: string
                              role:
                                description: Role is a SELinux role label that applies
                                  to the container.
                                type: string
                              type:
                                description: Type is a SELinux type label that applies
                                  to the container.
                                type: string
                              user:
                                description: User is a SELinux user label that applies
                                  to the container.
                                type: string
                            type: object
                          seccompProfile:
                            description: The seccomp options to use by this container.
                              If seccomp options are provided at both the pod & container
                              level, the container options override the pod options. Note
                              that this field cannot be set when spec.os.name is windows.
                            properties:
                              localhostProfile:
                                description: localhostProfile indicates a profile defined
                                  in a file on the node should be used. The profile must
                                  be preconfigured on the node to work. Must be a descending
                                  path, relative to the kubelet's configured seccomp profile
                                  location. Must only be set if type is "Localhost".
                                type: string
                              type:
                                description: "type indicates which kind of seccomp profile
                                  will be applied. Valid options are: \n Localhost - a
                                  profile defined in a file on the node should be used.
                                  RuntimeDefault - the container runtime default profile
                                  should be used. Unconfined - no profile should be applied."
                                type: string
                            required:
                            - type
                            type: object
                          windowsOptions:
                            description: The Windows specific settings applied to all
                              containers. If unspecified, the options from the PodSecurityContext
                              will be used. If set in both SecurityContext and PodSecurityContext,
                              the value specified in SecurityContext takes precedence.
                              Note that this field cannot be set when spec.os.name is
                              linux.
                            properties:
                              gmsaCredentialSpec:
                                description: GMSACredentialSpec is where the GMSA admission
                                  webhook (https://github.com/kubernetes-sigs/windows-gmsa)
                                  inlines the contents of the GMSA credential spec named
                                  by the GMSACredentialSpecName field.
                                type: string
                              gmsaCredentialSpecName:
                                description: GMSACredentialSpecName is the name of the
                                  GMSA credential spec to use.
                                type: string
                              hostProcess:
                                description: HostProcess determines if a container should
                                  be run as a 'Host Process' container. This field is
                                  alpha-level and will only be honored by components that
                                  enable the WindowsHostProcessContainers feature flag.
                                  Setting this field without the feature flag will result
                                  in errors when validating the Pod. All of a Pod's containers
                                  must have the same effective HostProcess value (it is
                                  not allowed to have a mix of HostProcess containers
                                  and non-HostProcess containers).  In addition, if HostProcess
                                  is true then HostNetwork must also be set to true.
                                type: boolean
                              runAsUserName:
                                description: The UserName in Windows to run the entrypoint
                                  of the container process. Defaults to the user specified
                                  in image metadata if unspecified. May also be set in
                                  PodSecurityContext. If set in both SecurityContext and
                                  PodSecurityContext, the value specified in SecurityContext
                                  takes precedence.
                                type: string
                            type: object
                        type: object
                      toolkit:
                        description: Toolkit validator spec
                        properties:
                          env:
                            description: 'Optional: List of environment variables'
                            items:
                              description: EnvVar represents an environment variable present
                                in a Container.
                              properties:
                                name:
                                  description: Name of the environment variable. Must
                                    be a C_IDENTIFIER.
                                  type: string
                                value:
                                  description: 'Variable references $(VAR_NAME) are expanded
                                    using the previously defined environment variables
                                    in the container and any service environment variables.
                                    If a variable cannot be resolved, the reference in
                                    the input string will be unchanged. Double $$ are
                                    reduced to a single $, which allows for escaping the
                                    $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce
                                    the string literal "$(VAR_NAME)". Escaped references
                                    will never be expanded, regardless of whether the
                                    variable exists or not. Defaults to "".'
                                  type: string
                                valueFrom:
                                  description: Source for the environment variable's value.
                                    Cannot be used if value is not empty.
                                  properties:
                                    configMapKeyRef:
                                      description: Selects a key of a ConfigMap.
                                      properties:
                                        key:
                                          description: The key to select.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the ConfigMap or
                                            its key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                    fieldRef:
                                      description: 'Selects a field of the pod: supports
                                        metadata.name, metadata.namespace, `metadata.labels[''<KEY>'']`,
                                        `metadata.annotations[''<KEY>'']`, spec.nodeName,
                                        spec.serviceAccountName, status.hostIP, status.podIP,
                                        status.podIPs.'
                                      properties:
                                        apiVersion:
                                          description: Version of the schema the FieldPath
                                            is written in terms of, defaults to "v1".
                                          type: string
                                        fieldPath:
                                          description: Path of the field to select in
                                            the specified API version.
                                          type: string
                                      required:
                                      - fieldPath
                                      type: object
                                    resourceFieldRef:
                                      description: 'Selects a resource of the container:
                                        only resources limits and requests (limits.cpu,
                                        limits.memory, limits.ephemeral-storage, requests.cpu,
                                        requests.memory and requests.ephemeral-storage)
                                        are currently supported.'
                                      properties:
                                        containerName:
                                          description: 'Container name: required for volumes,
                                            optional for env vars'
                                          type: string
                                        divisor:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: Specifies the output format of
                                            the exposed resources, defaults to "1"
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          description: 'Required: resource to select'
                                          type: string
                                      required:
                                      - resource
                                      type: object
                                    secretKeyRef:
                                      description: Selects a key of a secret in the pod's
                                        namespace
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: 'Name of the referent. More info:
                                            https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion,
                                            kind, uid?'
                                          type: string
                                        optional:
                                          description: Specify whether the Secret or its
                                            key must be defined
                                          type: boolean
                                      required:
                                      - key
                                      type: object
                                  type: object
                              required:
                              - name
                              type: object
                            type: array
                        type: object
                      version:
                        description: Validator image tag
                        type: string
                    type: object
                required:
                - daemonsets
                - dcgm
                - dcgmExporter
                - devicePlugin
                - driver
                - gfd
                - nodeStatusExporter
                - operator
                - toolkit
                type: object
              status:
                description: ClusterPolicyStatus defines the observed state of ClusterPolicy
                properties:
                  namespace:
                    description: Namespace indicates a namespace in which the operator
                      is installed
                    type: string
                  state:
                    description: State indicates status of ClusterPolicy
                    enum:
                    - ignored
                    - ready
                    - notReady
                    type: string
                required:
                - state
                type: object
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    status:
      acceptedNames:
        kind: ""
        plural: ""
      conditions: []
      storedVersions: []

kind: ConfigMap
metadata:
  annotations:
    note: generated
  labels:
    type: generated
  name: nvidia-clusterpolicy-crd
  namespace: default
---
apiVersion: v1
data:
  gpu-operator-components.yaml: "---\n# Source: gpu-operator/templates/resources-namespace.yaml\napiVersion:
    v1\nkind: Namespace\nmetadata:\n  name: gpu-operator-resources\n  labels:\n    app.kubernetes.io/component:
    \"gpu-operator\"\n    openshift.io/cluster-monitoring: \"true\"\n---\n# Source:
    gpu-operator/charts/node-feature-discovery/templates/clusterrole.yaml\napiVersion:
    rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: gpu-operator-node-feature-discovery\n
    \ namespace: gpu-operator-resources\n  labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n
    \   app.kubernetes.io/name: node-feature-discovery\n    app.kubernetes.io/instance:
    gpu-operator\n    app.kubernetes.io/version: \"v0.10.1\"\n    app.kubernetes.io/managed-by:
    Helm\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  # when using
    command line flag --resource-labels to create extended resources\n  # you will
    need to uncomment \"- nodes/status\"\n  # - nodes/status\n  verbs:\n  - get\n
    \ - patch\n  - update\n  - list\n- apiGroups:\n  - nfd.k8s-sigs.io\n  resources:\n
    \ - nodefeaturerules\n  verbs:\n  - get\n  - list\n  - watch\n---\n# Source: gpu-operator/charts/node-feature-discovery/templates/clusterrolebinding.yaml\napiVersion:
    rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: gpu-operator-node-feature-discovery\n
    \ labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n    app.kubernetes.io/name:
    node-feature-discovery\n    app.kubernetes.io/instance: gpu-operator\n    app.kubernetes.io/version:
    \"v0.10.1\"\n    app.kubernetes.io/managed-by: Helm\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n
    \ kind: ClusterRole\n  name: gpu-operator-node-feature-discovery\nsubjects:\n-
    kind: ServiceAccount\n  name: gpu-operator-node-feature-discovery\n  namespace:
    gpu-operator-resources\n---\n# Source: gpu-operator/charts/node-feature-discovery/templates/master.yaml\napiVersion:
    apps/v1\nkind: Deployment\nmetadata:\n  name:  gpu-operator-node-feature-discovery-master\n
    \ namespace: gpu-operator-resources\n  labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n
    \   app.kubernetes.io/name: node-feature-discovery\n    app.kubernetes.io/instance:
    gpu-operator\n    app.kubernetes.io/version: \"v0.10.1\"\n    app.kubernetes.io/managed-by:
    Helm\n    role: master\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n
    \     app.kubernetes.io/name: node-feature-discovery\n      app.kubernetes.io/instance:
    gpu-operator\n      role: master\n  template:\n    metadata:\n      labels:\n
    \       app.kubernetes.io/name: node-feature-discovery\n        app.kubernetes.io/instance:
    gpu-operator\n        role: master\n      annotations:\n        {}\n    spec:\n
    \     serviceAccountName: gpu-operator-node-feature-discovery\n      securityContext:\n
    \       {}\n      containers:\n        - name: master\n          securityContext:\n
    \           allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n
    \             - ALL\n            readOnlyRootFilesystem: true\n            runAsNonRoot:
    true\n          image: \"registry.k8s.io/nfd/node-feature-discovery:v0.10.1\"\n
    \         imagePullPolicy: IfNotPresent\n          livenessProbe:\n            exec:\n
    \             command:\n              - \"/usr/bin/grpc_health_probe\"\n              -
    \"-addr=:8080\"\n            initialDelaySeconds: 10\n            periodSeconds:
    10\n          readinessProbe:\n            exec:\n              command:\n              -
    \"/usr/bin/grpc_health_probe\"\n              - \"-addr=:8080\"\n            initialDelaySeconds:
    5\n            periodSeconds: 10\n            failureThreshold: 10\n          ports:\n
    \         - containerPort: 8080\n            name: grpc\n            namespace:
    gpu-operator-resources\n          env:\n          - name: NODE_NAME\n            valueFrom:\n
    \             fieldRef:\n                fieldPath: spec.nodeName\n          command:\n
    \           - \"nfd-master\"\n          resources:\n            {}\n          args:\n
    \           - \"--extra-label-ns=nvidia.com\"\n            ## By default, disable
    NodeFeatureRules controller for other than the default instances\n            -
    \"-featurerules-controller=true\"\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n
    \         - preference:\n              matchExpressions:\n              - key:
    node-role.kubernetes.io/master\n                operator: In\n                values:\n
    \               - \"\"\n            weight: 1\n          - preference:\n              matchExpressions:\n
    \             - key: node-role.kubernetes.io/control-plane\n                operator:
    In\n                values:\n                - \"\"\n            weight: 1\n      tolerations:\n
    \       - effect: NoSchedule\n          key: node-role.kubernetes.io/master\n
    \         operator: Equal\n          value: \"\"\n        - effect: NoSchedule\n
    \         key: node-role.kubernetes.io/control-plane\n          operator: Equal\n
    \         value: \"\"\n---\n# Source: gpu-operator/charts/node-feature-discovery/templates/nfd-worker-conf.yaml\napiVersion:
    v1\nkind: ConfigMap\nmetadata:\n  name: gpu-operator-node-feature-discovery-worker-conf\n
    \ namespace: gpu-operator-resources\n  labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n
    \   app.kubernetes.io/name: node-feature-discovery\n    app.kubernetes.io/instance:
    gpu-operator\n    app.kubernetes.io/version: \"v0.10.1\"\n    app.kubernetes.io/managed-by:
    Helm\ndata:\n  nfd-worker.conf: |-\n    sources:\n      pci:\n        deviceClassWhitelist:\n
    \       - \"02\"\n        - \"0200\"\n        - \"0207\"\n        - \"0300\"\n
    \       - \"0302\"\n        deviceLabelFields:\n        - vendor\n---\n# Source:
    gpu-operator/charts/node-feature-discovery/templates/nodefeaturerule-crd.yaml\napiVersion:
    apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n
    \   controller-gen.kubebuilder.io/version: v0.7.0\n  creationTimestamp: null\n
    \ name: nodefeaturerules.nfd.k8s-sigs.io\n  namespace: gpu-operator-resources\nspec:\n
    \ group: nfd.k8s-sigs.io\n  names:\n    kind: NodeFeatureRule\n    listKind: NodeFeatureRuleList\n
    \   plural: nodefeaturerules\n    singular: nodefeaturerule\n  scope: Cluster\n
    \ versions:\n  - name: v1alpha1\n    schema:\n      openAPIV3Schema:\n        description:
    NodeFeatureRule resource specifies a configuration for feature-based\n          customization
    of node objects, such as node labeling.\n        properties:\n          apiVersion:\n
    \           description: 'APIVersion defines the versioned schema of this representation\n
    \             of an object. Servers should convert recognized schemas to the latest\n
    \             internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'\n
    \           type: string\n          kind:\n            description: 'Kind is a
    string value representing the REST resource this\n              object represents.
    Servers may infer this from the endpoint the client\n              submits requests
    to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'\n
    \           type: string\n          metadata:\n            type: object\n          spec:\n
    \           description: NodeFeatureRuleSpec describes a NodeFeatureRule.\n            properties:\n
    \             rules:\n                description: Rules is a list of node customization
    rules.\n                items:\n                  description: Rule defines a
    rule for node customization such as\n                    labeling.\n                  properties:\n
    \                   labels:\n                      additionalProperties:\n                        type:
    string\n                      description: Labels to create if the rule matches.\n
    \                     type: object\n                    labelsTemplate:\n                      description:
    LabelsTemplate specifies a template to expand for\n                        dynamically
    generating multiple labels. Data (after template\n                        expansion)
    must be keys with an optional value (<key>[=<value>])\n                        separated
    by newlines.\n                      type: string\n                    matchAny:\n
    \                     description: MatchAny specifies a list of matchers one of
    which\n                        must match.\n                      items:\n                        description:
    MatchAnyElem specifies one sub-matcher of MatchAny.\n                        properties:\n
    \                         matchFeatures:\n                            description:
    MatchFeatures specifies a set of matcher\n                              terms
    all of which must match.\n                            items:\n                              description:
    FeatureMatcherTerm defines requirements\n                                against
    one feature set. All requirements (specified\n                                as
    MatchExpressions) are evaluated against each element\n                                in
    the feature set.\n                              properties:\n                                feature:\n
    \                                 type: string\n                                matchExpressions:\n
    \                                 additionalProperties:\n                                    description:
    \"MatchExpression specifies an expression\n                                      to
    evaluate against a set of input values. It\n                                      contains
    an operator that is applied when matching\n                                      the
    input and an array of values that the operator\n                                      evaluates
    the input against. \\n NB: CreateMatchExpression\n                                      or
    MustCreateMatchExpression() should be used\n                                      for
    \    creating new instances. NB: Validate()\n                                      must
    be called if Op or Value fields are modified\n                                      or
    if a new     instance is created from scratch\n                                      without
    using the helper functions.\"\n                                    properties:\n
    \                                     op:\n                                        description:
    Op is the operator to be applied.\n                                        enum:\n
    \                                       - In\n                                        -
    NotIn\n                                        - InRegexp\n                                        -
    Exists\n                                        - DoesNotExist\n                                        -
    Gt\n                                        - Lt\n                                        -
    GtLt\n                                        - IsTrue\n                                        -
    IsFalse\n                                        type: string\n                                      value:\n
    \                                       description: Value is the list of values
    that\n                                          the operand evaluates the input
    against.\n                                          Value should be empty if the
    operator is\n                                          Exists, DoesNotExist, IsTrue
    or IsFalse.\n                                          Value should contain exactly
    one element\n                                          if the operator is Gt or
    Lt and exactly\n                                          two elements if the
    operator is GtLt. In\n                                          other cases Value
    should contain at least\n                                          one element.\n
    \                                       items:\n                                          type:
    string\n                                        type: array\n                                    required:\n
    \                                   - op\n                                    type:
    object\n                                  description: MatchExpressionSet contains
    a set of\n                                    MatchExpressions, each of which
    is evaluated against\n                                    a set of input values.\n
    \                                 type: object\n                              required:\n
    \                             - feature\n                              - matchExpressions\n
    \                             type: object\n                            type:
    array\n                        required:\n                        - matchFeatures\n
    \                       type: object\n                      type: array\n                    matchFeatures:\n
    \                     description: MatchFeatures specifies a set of matcher terms\n
    \                       all of which must match.\n                      items:\n
    \                       description: FeatureMatcherTerm defines requirements against\n
    \                         one feature set. All requirements (specified as MatchExpressions)\n
    \                         are evaluated against each element in the feature set.\n
    \                       properties:\n                          feature:\n                            type:
    string\n                          matchExpressions:\n                            additionalProperties:\n
    \                             description: \"MatchExpression specifies an expression\n
    \                               to evaluate against a set of input values. It
    contains\n                                an operator that is applied when matching
    the input\n                                and an array of values that the operator
    evaluates\n                                the input against. \\n NB: CreateMatchExpression
    or\n                                MustCreateMatchExpression() should be used
    for     creating\n                                new instances. NB: Validate()
    must be called if Op\n                                or Value fields are modified
    or if a new     instance\n                                is created from scratch
    without using the helper functions.\"\n                              properties:\n
    \                               op:\n                                  description:
    Op is the operator to be applied.\n                                  enum:\n                                  -
    In\n                                  - NotIn\n                                  -
    InRegexp\n                                  - Exists\n                                  -
    DoesNotExist\n                                  - Gt\n                                  -
    Lt\n                                  - GtLt\n                                  -
    IsTrue\n                                  - IsFalse\n                                  type:
    string\n                                value:\n                                  description:
    Value is the list of values that the\n                                    operand
    evaluates the input against. Value should\n                                    be
    empty if the operator is Exists, DoesNotExist,\n                                    IsTrue
    or IsFalse. Value should contain exactly\n                                    one
    element if the operator is Gt or Lt and exactly\n                                    two
    elements if the operator is GtLt. In other\n                                    cases
    Value should contain at least one element.\n                                  items:\n
    \                                   type: string\n                                  type:
    array\n                              required:\n                              -
    op\n                              type: object\n                            description:
    MatchExpressionSet contains a set of MatchExpressions,\n                              each
    of which is evaluated against a set of input values.\n                            type:
    object\n                        required:\n                        - feature\n
    \                       - matchExpressions\n                        type: object\n
    \                     type: array\n                    name:\n                      description:
    Name of the rule.\n                      type: string\n                    vars:\n
    \                     additionalProperties:\n                        type: string\n
    \                     description: Vars is the variables to store if the rule
    matches.\n                        Variables do not directly inflict any changes
    in the node\n                        object. However, they can be referenced from
    other rules enabling\n                        more complex rule hierarchies, without
    exposing intermediary\n                        output values as labels.\n                      type:
    object\n                    varsTemplate:\n                      description:
    VarsTemplate specifies a template to expand for\n                        dynamically
    generating multiple variables. Data (after template\n                        expansion)
    must be keys with an optional value (<key>[=<value>])\n                        separated
    by newlines.\n                      type: string\n                  required:\n
    \                 - name\n                  type: object\n                type:
    array\n            required:\n            - rules\n            type: object\n
    \       required:\n        - spec\n        type: object\n    served: true\n    storage:
    true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions:
    []\n  storedVersions: []\n---\n# Source: gpu-operator/charts/node-feature-discovery/templates/service.yaml\napiVersion:
    v1\nkind: Service\nmetadata:\n  name: gpu-operator-node-feature-discovery-master\n
    \ namespace: gpu-operator-resources\n  labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n
    \   app.kubernetes.io/name: node-feature-discovery\n    app.kubernetes.io/instance:
    gpu-operator\n    app.kubernetes.io/version: \"v0.10.1\"\n    app.kubernetes.io/managed-by:
    Helm\n    role: master\nspec:\n  type: ClusterIP\n  ports:\n    - port: 8080\n
    \     targetPort: grpc\n      protocol: TCP\n      name: grpc\n      namespace:
    gpu-operator-resources\n  selector:\n    app.kubernetes.io/name: node-feature-discovery\n
    \   app.kubernetes.io/instance: gpu-operator\n---\n# Source: gpu-operator/charts/node-feature-discovery/templates/serviceaccount.yaml\napiVersion:
    v1\nkind: ServiceAccount\nmetadata:\n  name: gpu-operator-node-feature-discovery\n
    \ namespace: gpu-operator-resources\n  labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n
    \   app.kubernetes.io/name: node-feature-discovery\n    app.kubernetes.io/instance:
    gpu-operator\n    app.kubernetes.io/version: \"v0.10.1\"\n    app.kubernetes.io/managed-by:
    Helm\n---\n# Source: gpu-operator/charts/node-feature-discovery/templates/worker.yaml\napiVersion:
    apps/v1\nkind: DaemonSet\nmetadata:\n  name:  gpu-operator-node-feature-discovery-worker\n
    \ namespace: gpu-operator-resources\n  labels:\n    helm.sh/chart: node-feature-discovery-0.10.1\n
    \   app.kubernetes.io/name: node-feature-discovery\n    app.kubernetes.io/instance:
    gpu-operator\n    app.kubernetes.io/version: \"v0.10.1\"\n    app.kubernetes.io/managed-by:
    Helm\n    role: worker\nspec:\n  selector:\n    matchLabels:\n      app.kubernetes.io/name:
    node-feature-discovery\n      app.kubernetes.io/instance: gpu-operator\n      role:
    worker\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name:
    node-feature-discovery\n        app.kubernetes.io/instance: gpu-operator\n        role:
    worker\n      annotations:\n        {}\n    spec:\n      dnsPolicy: ClusterFirstWithHostNet\n
    \     serviceAccountName: gpu-operator-node-feature-discovery\n      securityContext:\n
    \       {}\n      containers:\n      - name: worker\n        securityContext:\n
    \           allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n
    \             - ALL\n            readOnlyRootFilesystem: true\n            runAsNonRoot:
    true\n        image: \"registry.k8s.io/nfd/node-feature-discovery:v0.10.1\"\n
    \       imagePullPolicy: IfNotPresent\n        env:\n        - name: NODE_NAME\n
    \         valueFrom:\n            fieldRef:\n              fieldPath: spec.nodeName\n
    \       resources:\n            {}\n        command:\n        - \"nfd-worker\"\n
    \       args:\n        - \"--server=gpu-operator-node-feature-discovery-master:8080\"\n
    \       volumeMounts:\n        - name: host-boot\n          mountPath: \"/host-boot\"\n
    \         readOnly: true\n        - name: host-os-release\n          mountPath:
    \"/host-etc/os-release\"\n          readOnly: true\n        - name: host-sys\n
    \         mountPath: \"/host-sys\"\n          readOnly: true\n        - name:
    host-usr-lib\n          mountPath: \"/host-usr/lib\"\n          readOnly: true\n
    \       - name: source-d\n          mountPath: \"/etc/kubernetes/node-feature-discovery/source.d/\"\n
    \         readOnly: true\n        - name: features-d\n          mountPath: \"/etc/kubernetes/node-feature-discovery/features.d/\"\n
    \         readOnly: true\n        - name: nfd-worker-conf\n          mountPath:
    \"/etc/kubernetes/node-feature-discovery\"\n          readOnly: true\n      volumes:\n
    \       - name: host-boot\n          hostPath:\n            path: \"/boot\"\n
    \       - name: host-os-release\n          hostPath:\n            path: \"/etc/os-release\"\n
    \       - name: host-sys\n          hostPath:\n            path: \"/sys\"\n        -
    name: host-usr-lib\n          hostPath:\n            path: \"/usr/lib\"\n        -
    name: source-d\n          hostPath:\n            path: \"/etc/kubernetes/node-feature-discovery/source.d/\"\n
    \       - name: features-d\n          hostPath:\n            path: \"/etc/kubernetes/node-feature-discovery/features.d/\"\n
    \       - name: nfd-worker-conf\n          configMap:\n            name: gpu-operator-node-feature-discovery-worker-conf\n
    \           namespace: gpu-operator-resources\n            items:\n              -
    key: nfd-worker.conf\n                path: nfd-worker.conf\n      tolerations:\n
    \       - effect: NoSchedule\n          key: node-role.kubernetes.io/master\n
    \         operator: Equal\n          value: \"\"\n        - effect: NoSchedule\n
    \         key: nvidia.com/gpu\n          operator: Equal\n          value: present\n---\n#
    Source: gpu-operator/templates/clusterpolicy.yaml\napiVersion: nvidia.com/v1\nkind:
    ClusterPolicy\nmetadata:\n  name: cluster-policy\n  namespace: gpu-operator-resources\n
    \ labels:\n    app.kubernetes.io/component: \"gpu-operator\"\n    \nspec:\n  operator:\n
    \   defaultRuntime: docker\n    runtimeClass: nvidia\n    initContainer:\n      repository:
    nvcr.io/nvidia\n      image: cuda\n      version: \"11.4.2-base-ubi8\"\n      imagePullPolicy:
    IfNotPresent\n  daemonsets:\n    tolerations: \n      - effect: NoSchedule\n        key:
    nvidia.com/gpu\n        operator: Exists\n    priorityClassName: system-node-critical\n
    \ validator:\n    repository: nvcr.io/nvidia/cloud-native\n    image: gpu-operator-validator\n
    \   version: \"v1.10.1\"\n    imagePullPolicy: IfNotPresent\n    securityContext:
    \n      privileged: true\n      seLinuxOptions:\n        level: s0\n    plugin:\n
    \     env: \n        - name: WITH_WORKLOAD\n          value: \"true\"\n  mig:\n
    \   strategy: single\n  psp:\n    enabled: false\n  driver:\n    enabled: true\n
    \   repository: nvcr.io/nvidia\n    image: driver\n    version: \"510.47.03\"\n
    \   imagePullPolicy: IfNotPresent\n    rdma:\n      enabled: false\n      useHostMofed:
    false\n    manager:\n      repository: nvcr.io/nvidia/cloud-native\n      image:
    k8s-driver-manager\n      version: \"v0.3.0\"\n      imagePullPolicy: IfNotPresent\n
    \     env: \n        - name: ENABLE_AUTO_DRAIN\n          value: \"true\"\n        -
    name: DRAIN_USE_FORCE\n          value: \"false\"\n        - name: DRAIN_POD_SELECTOR_LABEL\n
    \         value: \"\"\n        - name: DRAIN_TIMEOUT_SECONDS\n          value:
    0s\n        - name: DRAIN_DELETE_EMPTYDIR_DATA\n          value: \"false\"\n    repoConfig:
    \n      configMapName: \"\"\n    certConfig: \n      name: \"\"\n    licensingConfig:
    \n      configMapName: \"\"\n      nlsEnabled: false\n    virtualTopology: \n
    \     config: \"\"\n    kernelModuleConfig: \n      name: \"\"\n    securityContext:
    \n      privileged: true\n      seLinuxOptions:\n        level: s0\n  toolkit:\n
    \   enabled: true\n    repository: nvcr.io/nvidia/k8s\n    image: container-toolkit\n
    \   version: \"v1.9.0-ubuntu18.04\"\n    imagePullPolicy: IfNotPresent\n    securityContext:
    \n      privileged: true\n      seLinuxOptions:\n        level: s0\n  devicePlugin:\n
    \   repository: nvcr.io/nvidia\n    image: k8s-device-plugin\n    version: \"v0.11.0-ubi8\"\n
    \   imagePullPolicy: IfNotPresent\n    securityContext: \n      privileged: true\n
    \   env: \n      - name: PASS_DEVICE_SPECS\n        value: \"true\"\n      - name:
    FAIL_ON_INIT_ERROR\n        value: \"true\"\n      - name: DEVICE_LIST_STRATEGY\n
    \       value: envvar\n      - name: DEVICE_ID_STRATEGY\n        value: uuid\n
    \     - name: NVIDIA_VISIBLE_DEVICES\n        value: all\n      - name: NVIDIA_DRIVER_CAPABILITIES\n
    \       value: all\n  dcgm:\n    enabled: false\n    repository: nvcr.io/nvidia/cloud-native\n
    \   image: dcgm\n    version: \"2.3.4-1-ubuntu20.04\"\n    imagePullPolicy: IfNotPresent\n
    \   hostPort: 5555\n  dcgmExporter:\n    repository: nvcr.io/nvidia/k8s\n    image:
    dcgm-exporter\n    version: \"2.3.4-2.6.4-ubuntu20.04\"\n    imagePullPolicy:
    IfNotPresent\n    env: \n      - name: DCGM_EXPORTER_LISTEN\n        value: :9400\n
    \     - name: DCGM_EXPORTER_KUBERNETES\n        value: \"true\"\n      - name:
    DCGM_EXPORTER_COLLECTORS\n        value: /etc/dcgm-exporter/dcp-metrics-included.csv\n
    \ gfd:\n    repository: nvcr.io/nvidia\n    image: gpu-feature-discovery\n    version:
    \"v0.5.0\"\n    imagePullPolicy: IfNotPresent\n    env: \n      - name: GFD_SLEEP_INTERVAL\n
    \       value: 60s\n      - name: GFD_FAIL_ON_INIT_ERROR\n        value: \"true\"\n
    \ migManager:\n    enabled: true\n    repository: nvcr.io/nvidia/cloud-native\n
    \   image: k8s-mig-manager\n    version: \"v0.3.0-ubuntu20.04\"\n    imagePullPolicy:
    IfNotPresent\n    securityContext: \n      privileged: true\n    env: \n      -
    name: WITH_REBOOT\n        value: \"false\"\n    config: \n      name: \"\"\n
    \   gpuClientsConfig: \n      name: \"\"\n  nodeStatusExporter:\n    enabled:
    false\n    repository: nvcr.io/nvidia/cloud-native\n    image: gpu-operator-validator\n
    \   version: \"v1.10.1\"\n    imagePullPolicy: IfNotPresent\n---\n# Source: gpu-operator/templates/operator.yaml\napiVersion:
    apps/v1\nkind: Deployment\nmetadata:\n  name: gpu-operator\n  namespace: gpu-operator-resources\n
    \ labels:\n    app.kubernetes.io/component: \"gpu-operator\"\n    \nspec:\n  replicas:
    1\n  selector:\n    matchLabels:\n      \n      app.kubernetes.io/component: \"gpu-operator\"\n
    \     app: \"gpu-operator\"\n  template:\n    metadata:\n      labels:\n        \n
    \       app.kubernetes.io/component: \"gpu-operator\"\n        app: \"gpu-operator\"\n
    \     annotations:\n        openshift.io/scc: restricted-readonly\n    spec:\n
    \     serviceAccountName: gpu-operator\n      priorityClassName: system-node-critical\n
    \     containers:\n      - name: gpu-operator\n        image: nvcr.io/nvidia/gpu-operator:v1.10.1\n
    \       imagePullPolicy: IfNotPresent\n        command: [\"gpu-operator\"]\n        args:\n
    \       - --leader-elect\n        env:\n        - name: WATCH_NAMESPACE\n          value:
    \"\"\n        - name: OPERATOR_NAMESPACE\n          valueFrom:\n            fieldRef:\n
    \             fieldPath: metadata.namespace\n        volumeMounts:\n          -
    name: host-os-release\n            mountPath: \"/host-etc/os-release\"\n            readOnly:
    true\n        livenessProbe:\n          httpGet:\n            path: /healthz\n
    \           port: 8081\n          initialDelaySeconds: 15\n          periodSeconds:
    20\n        readinessProbe:\n          httpGet:\n            path: /readyz\n            port:
    8081\n          initialDelaySeconds: 5\n          periodSeconds: 10\n        resources:\n
    \         limits:\n            cpu: 500m\n            memory: 350Mi\n          requests:\n
    \           cpu: 200m\n            memory: 100Mi\n        ports:\n          -
    name: metrics\n            containerPort: 8080\n      volumes:\n        - name:
    host-os-release\n          hostPath:\n            path: \"/etc/os-release\"\n
    \     affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n
    \         - preference:\n              matchExpressions:\n              - key:
    node-role.kubernetes.io/master\n                operator: In\n                values:\n
    \               - \"\"\n            weight: 1\n      tolerations:\n        - effect:
    NoSchedule\n          key: node-role.kubernetes.io/master\n          operator:
    Equal\n          value: \"\"\n---\n# Source: gpu-operator/templates/role.yaml\napiVersion:
    rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  creationTimestamp:
    null\n  name: gpu-operator\n  namespace: gpu-operator-resources\n  labels:\n    app.kubernetes.io/component:
    \"gpu-operator\"\n    \nrules:\n- apiGroups:\n  - config.openshift.io\n  resources:\n
    \ - proxies\n  verbs:\n  - get\n- apiGroups:\n  - rbac.authorization.k8s.io\n
    \ resources:\n  - roles\n  - rolebindings\n  - clusterroles\n  - clusterrolebindings\n
    \ verbs:\n  - '*'\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - services\n
    \ - endpoints\n  - persistentvolumeclaims\n  - events\n  - configmaps\n  - secrets\n
    \ - serviceaccounts\n  - nodes\n  verbs:\n  - '*'\n- apiGroups:\n  - \"\"\n  resources:\n
    \ - namespaces\n  verbs:\n  - get\n  - list\n  - create\n  - watch\n  - update\n-
    apiGroups:\n  - apps\n  resources:\n  - deployments\n  - daemonsets\n  - replicasets\n
    \ - statefulsets\n  verbs:\n  - '*'\n- apiGroups:\n  - monitoring.coreos.com\n
    \ resources:\n  - servicemonitors\n  - prometheusrules\n  verbs:\n  - get\n  -
    list\n  - create\n  - watch\n  - update\n- apiGroups:\n  - nvidia.com\n  resources:\n
    \ - '*'\n  verbs:\n  - '*'\n- apiGroups:\n  - scheduling.k8s.io\n  resources:\n
    \ - priorityclasses\n  verbs:\n  - get\n  - list\n  - watch\n  - create\n- apiGroups:\n
    \ - security.openshift.io\n  resources:\n  - securitycontextconstraints\n  verbs:\n
    \ - '*'\n- apiGroups:\n  - policy\n  resources:\n  - podsecuritypolicies\n  verbs:\n
    \ - use\n  resourceNames:\n  - gpu-operator-restricted\n- apiGroups:\n  - policy\n
    \ resources:\n  - podsecuritypolicies\n  verbs:\n  - create\n  - get\n  - update\n
    \ - list\n- apiGroups:\n  - config.openshift.io\n  resources:\n  - clusterversions\n
    \ verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  - coordination.k8s.io\n
    \ resources:\n  - configmaps\n  - leases\n  verbs:\n  - get\n  - list\n  - watch\n
    \ - create\n  - update\n  - patch\n  - delete\n- apiGroups:\n  - node.k8s.io\n
    \ resources:\n  - runtimeclasses\n  verbs:\n  - get\n  - list\n  - create\n  -
    update\n  - watch\n- apiGroups:\n  - image.openshift.io\n  resources:\n  - imagestreams\n
    \ verbs:\n  - get\n  - list\n  - watch\n---\n# Source: gpu-operator/templates/rolebinding.yaml\nkind:
    ClusterRoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name:
    gpu-operator\n  labels:\n    app.kubernetes.io/component: \"gpu-operator\"\n    \nsubjects:\n-
    kind: ServiceAccount\n  name: gpu-operator\n  namespace: gpu-operator-resources\n-
    kind: ServiceAccount\n  name: node-feature-discovery\n  namespace: gpu-operator-resources\nroleRef:\n
    \ kind: ClusterRole\n  name: gpu-operator\n  apiGroup: rbac.authorization.k8s.io\n---\n#
    Source: gpu-operator/templates/serviceaccount.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n
    \ name: gpu-operator\n  namespace: gpu-operator-resources\n  labels:\n    app.kubernetes.io/component:
    \"gpu-operator\"\n"
kind: ConfigMap
metadata:
  annotations:
    note: generated
  labels:
    type: generated
  name: nvidia-gpu-operator-components
  namespace: default
